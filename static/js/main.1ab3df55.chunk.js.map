{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/SearchError/SearchError.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","API.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","imgError/notImage.png","components/SearchError/SearchError.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","s","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImg","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","src","alt","openModal","imageGalleryItem","imageGalleryItemImage","onClick","App","color","height","width","timeout","SearchError","message","errorWrapper","role","errorImg","LoadButton","handleLoadMore","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","overlay","modal","children","ImageGallery","images","showModal","modalImgProps","status","fetchImages","nextQuery","pixabayAPI","hits","length","prevState","catch","incrementPage","reset","scrollDown","setTimeout","scrollTo","top","document","body","scrollHeight","left","behavior","handleLoadBtnClick","a","searchQuery","toggleModal","handleImgClick","prevProps","prevQuery","Loader","modalImg","imageGallery","map","id","webformatURL","tags","largeImageURL","handleSearchFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1ab3df55.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1bxth\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2OVTR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1C7nY\",\"modal\":\"Modal_modal__gj5Ah\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2hWmd\",\"modalImg\":\"ImageGallery_modalImg__2fqUu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrapper\":\"SearchError_errorWrapper__24eXD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadButton\":\"Button_LoadButton__1pEoG\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleQueryChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { query } = this.state;\r\n    e.preventDefault();\r\n    if (query.trim() === '') {\r\n      toast.error('Please, enter search query.');\r\n      return;\r\n    }\r\n    this.props.onSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.searchbar}>\r\n          <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.searchFormButton}>\r\n              <span className={s.searchFormButtonLabel}>Search</span>\r\n            </button>\r\n            <input\r\n              className={s.searchFormInput}\r\n              type=\"text\"\r\n              value={query}\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleQueryChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","const API_KEY = '19220894-8afe3cf2f2639d9e7cd017116';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nexport function fetchImg(query, page) {\r\n  const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`;\r\n\r\n  return fetch(url).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('Oops! Nothing found'));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImg,\r\n};\r\n\r\nexport default api;","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ src, alt, url, openModal }) {\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        className={s.imageGalleryItemImage}\r\n        onClick={() => openModal({ url, alt })}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#df4e78\"\r\n        height={80}\r\n        width={80}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","export default __webpack_public_path__ + \"static/media/notImage.0e049a38.png\";","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport errorImg from 'imgError/notImage.png';\r\nimport s from './SearchError.module.css';\r\n\r\nfunction SearchError({ message }) {\r\n  return (\r\n    <div className={s.errorWrapper} role=\"alert\">\r\n      <p>{message}</p>\r\n      <img src={errorImg} alt=\"empty\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchError.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default SearchError;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport s from './Button.module.css';\r\n\r\nfunction LoadButton({ handleLoadMore }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={s.LoadButton}\r\n      onClick={() => handleLoadMore()}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nLoadButton.propTypes = {\r\n  handleLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LoadButton;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\n\r\nimport pixabayAPI from 'API';\r\n\r\nimport ImageGalleryItem from 'components/ImageGalleryItem';\r\nimport Loader from 'components/Loader';\r\nimport ErrorSearch from 'components/SearchError';\r\nimport LoadButton from 'components/Button';\r\nimport Modal from 'components/Modal';\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    searchQuery: PropTypes.string,\r\n  };\r\n\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    error: null,\r\n    showModal: false,\r\n    modalImgProps: { url: '', alt: '' },\r\n    status: 'idle',\r\n  };\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    const prevQuery = prevProps.searchQuery;\r\n    const nextQuery = this.props.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      await this.reset();\r\n      this.setState({ status: 'pending' });\r\n      this.fetchImages(nextQuery);\r\n    }\r\n  }\r\n\r\n  fetchImages = nextQuery => {\r\n    const { page } = this.state;\r\n    pixabayAPI\r\n      .fetchImg(nextQuery, page)\r\n      .then(({ hits }) => {\r\n        if (hits.length === 0) {\r\n          return Promise.reject(new Error('Oops! Nothing found'));\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...hits],\r\n          status: 'resolved',\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error, status: 'rejected' }));\r\n  };\r\n\r\n  incrementPage = () => {\r\n    this.setState(prevState => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ page: 1, images: [] });\r\n  };\r\n\r\n  scrollDown = () => {\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.body.scrollHeight,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  handleLoadBtnClick = async () => {\r\n    const nextQuery = this.props.searchQuery;\r\n    await this.incrementPage();\r\n    this.fetchImages(nextQuery);\r\n    this.scrollDown();\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  handleImgClick = props => {\r\n    this.setState({ modalImgProps: props });\r\n    this.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { images, error, status, showModal } = this.state;\r\n    const { url, alt } = this.state.modalImgProps;\r\n\r\n    if (status === 'idle') {\r\n      return <div></div>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return <Loader />;\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <ErrorSearch message={error.message} />;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          {showModal && (\r\n            <Modal onClose={this.toggleModal}>\r\n              <img src={url} alt={alt} className={s.modalImg} />\r\n            </Modal>\r\n          )}\r\n          <ul className={s.imageGallery}>\r\n            {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n              <ImageGalleryItem\r\n                key={id}\r\n                src={webformatURL}\r\n                url={largeImageURL}\r\n                alt={tags}\r\n                openModal={this.handleImgClick}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <LoadButton handleLoadMore={this.handleLoadBtnClick} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n        <ImageGallery searchQuery={searchQuery} />\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__uCiWL\",\"searchForm\":\"Searchbar_searchForm__1JxmC\",\"searchFormButton\":\"Searchbar_searchFormButton__36164\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__YFiId\",\"searchFormInput\":\"Searchbar_searchFormInput__3fxk7\"};"],"sourceRoot":""}